@echo off
chcp 65001 >nul
echo ============================================================
echo  –û–ë–ù–û–í–õ–ï–ù–ò–ï GITHUB –†–ï–ü–û–ó–ò–¢–û–†–ò–Ø
echo ============================================================
echo.

REM –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è Git
where git >nul 2>&1
if %errorlevel% neq 0 (
    echo ‚ùå Git –Ω–µ –Ω–∞–π–¥–µ–Ω!
    echo.
    echo –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Git: https://git-scm.com/download/win
    echo –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ GitHub Desktop: https://desktop.github.com/
    pause
    exit /b 1
)

echo ‚úÖ Git –Ω–∞–π–¥–µ–Ω
echo.

REM –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø–∞–ø–∫—É —Å–∫—Ä–∏–ø—Ç–∞
cd /d "%~dp0"

REM –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–∞–ø–∫–∞ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º
if not exist ".git" (
    echo üì¶ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è...
    git init
    echo.
    
    echo üîó –î–æ–±–∞–≤–ª–µ–Ω–∏–µ remote —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è...
    git remote add origin https://github.com/ferixdi-png/5656.git
    echo ‚úÖ Remote –¥–æ–±–∞–≤–ª–µ–Ω
    echo.
    
    echo ‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π!
    echo    –ï—Å–ª–∏ —Ñ–∞–π–ª—ã —É–∂–µ –µ—Å—Ç—å –≤ GitHub, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
    echo    git pull origin main --allow-unrelated-histories
    echo.
) else (
    echo ‚úÖ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞–π–¥–µ–Ω
    echo.
    
    REM –ü—Ä–æ–≤–µ—Ä–∫–∞ remote
    git remote get-url origin >nul 2>&1
    if %errorlevel% neq 0 (
        echo üîó –î–æ–±–∞–≤–ª–µ–Ω–∏–µ remote —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è...
        git remote add origin https://github.com/ferixdi-png/5656.git
        echo ‚úÖ Remote –¥–æ–±–∞–≤–ª–µ–Ω
        echo.
    ) else (
        echo ‚úÖ Remote —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω
        echo.
    )
)

REM –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å
echo üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:
git status
echo.

REM –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
echo ============================================================
echo  –í–ù–ò–ú–ê–ù–ò–ï: –°–µ–π—á–∞—Å –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –í–°–ï —Ñ–∞–π–ª—ã –∏ —Å–æ–∑–¥–∞–Ω –∫–æ–º–º–∏—Ç
echo ============================================================
echo.
set /p CONFIRM="–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (y/n): "
if /i not "%CONFIRM%"=="y" (
    echo –û—Ç–º–µ–Ω–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
    pause
    exit /b 0
)

echo.
echo üì¶ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤...
git add .
echo ‚úÖ –§–∞–π–ª—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
echo.

echo üìù –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞...
git commit -m "–ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è Timeweb: —É–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–æ–±–∞–≤–ª–µ–Ω .dockerignore, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω Dockerfile"
if %errorlevel% neq 0 (
    echo ‚ö†Ô∏è  –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –∫–æ–º–º–∏—Ç–∞ –∏–ª–∏ –æ—à–∏–±–∫–∞
    echo    –í–æ–∑–º–æ–∂–Ω–æ, –≤—Å–µ —Ñ–∞–π–ª—ã —É–∂–µ –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
    echo.
) else (
    echo ‚úÖ –ö–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω
    echo.
)

echo üîÑ –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ GitHub...
echo.
echo ‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –ü–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è!
echo    –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ HTTPS, –≤–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω GitHub
echo    –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ SSH, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω
echo.

REM –ü–æ–ø—ã—Ç–∫–∞ push
git push -u origin main
if %errorlevel% neq 0 (
    echo.
    echo ‚ö†Ô∏è  –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
    echo    1. –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    echo    2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–µ—Ç–∫–∞ (–ø–æ–ø—Ä–æ–±—É–π—Ç–µ: git push -u origin master)
    echo    3. –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º
    echo.
    echo üí° –†–ï–®–ï–ù–ò–ï:
    echo    - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GitHub Desktop –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    echo    - –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Personal Access Token:
    echo      https://github.com/settings/tokens
    echo.
) else (
    echo.
    echo ‚úÖ –£–°–ü–ï–®–ù–û! –§–∞–π–ª—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ GitHub!
    echo.
    echo üîó –í–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
    echo    https://github.com/ferixdi-png/5656
    echo.
)

echo ============================================================
pause

